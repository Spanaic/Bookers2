<div class="container">

    <div class="row">

        <div class="col-lg-3">

            <% if flash[:notice] %>
                <p><%= flash[:notice] %></p>
            <% end %>
            <%= render 'users/each_user_info', user: @user %>

            <%= render 'books/new_book', book: @book %>

         </div>

        <div class="col-lg-9">

            <h2>Book detail</h2>

            <table class="table table-hover">
                <tr>
                    <td>
                        <%= attachment_image_tag @book_detail.user, :profile_image, :fill, 60, 60, format: 'jpeg', fallback: "no_image.jpg", :size => '60x60' %>
                        <%# fillなどで大きさを編集 %>
                        <p><%= link_to "#{@book_detail.user.name}", user_path(@book_detail.user) %></p>
                    </td>
                    <td><%= @book_detail.title %></td>
                    <td><%= @book_detail.body %></td>
                    <% if current_user.id == @book_detail.user_id %>
                    <td><%= link_to 'Edit', edit_book_path(@book_detail.id), class:"btn btn-success" %></td>
                    <td><%= link_to 'Destroy', book_path(@book_detail.id), class:"btn btn-danger destroy-font", method:  :delete %></td>
                    <% else %>
                    <td></td>
                    <td></td>
                    <% end %>
                    <%# if文でviewの制御をするときに、分岐しても表示が変わらない時は、ちゃんとelseも記述している確認しよう %>
                </tr>
            </table>
        </div>
    </div>
</div>
